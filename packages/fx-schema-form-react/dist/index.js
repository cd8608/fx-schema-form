!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("recompose"),require("immutable"),require("fx-schema-form-core"),require("react-redux"),require("resolve-pathname"),require("reselect"),require("redux-act"),require("redux"),require("prop-types"),require("ajv")):"function"==typeof define&&define.amd?define("SFR",["react","recompose","immutable","fx-schema-form-core","react-redux","resolve-pathname","reselect","redux-act","redux","prop-typese","ajv"],t):"object"==typeof exports?exports.SFR=t(require("react"),require("recompose"),require("immutable"),require("fx-schema-form-core"),require("react-redux"),require("resolve-pathname"),require("reselect"),require("redux-act"),require("redux"),require("prop-types"),require("ajv")):e.SFR=t(e.React,e.recompose,e.Immutable,e.SFC,e["react-redux"],e["resolve-pathname"],e.reselect,e["redux-act"],e.Redux,e["prop-types"],e.Ajv)}("undefined"!=typeof self?self:this,function(e,t,r,n,o,a,i,c,s,u,p){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]]);return r}function o(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function i(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function c(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,c)}s((n=n.apply(e,t||[])).next())})}t.d=n,t.b=o,t.c=a,t.a=i;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
Object.setPrototypeOf||Array,Object.assign},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n={hoc:"hoc",widget:"widget",template:"temp",field:"field"}},function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"a",function(){return c}),r.d(t,"c",function(){return s});var n=r(6),o=(r.n(n),r(15)),a=r(29),i=new n.BaseFactory,c=new n.BaseFactory,s=new n.BaseFactory;o.a.forEach(function(e){c.add(e.name,e.hoc(c))}),i.add("schemaForm",a.a)},function(e,t){e.exports=r},function(e,t){e.exports=n},function(e,t,r){e.exports=r(18)},function(e,t,r){"use strict";var n=r(34),o=r(12);r.d(t,"a",function(){return n.a}),n.a.propTypes=Object.assign({},o.a)},function(e,t){e.exports=o},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",function(){return o});var o=function(){function e(t,r,o){n(this,e),this.key=t,this.value=r,this.parent=o,this.children=[]}return e.prototype.addChild=function(t,r){var n=this,o=null;if(!t.length)return this;for(t=[].concat(t);t.length;){var a=t.shift(),i=a.constructor===Number;o=n.contains(a),o||(i?(o=new e("-",null,n),n.children[a]=o):(o=new e(a.toString(),null,n),n.children.push(o))),n=o}return o&&(o.value=r),o},e.prototype.getKey=function(){return this.key&&"-"!==this.key?this.key:this.getIndexInParent().toString()},e.prototype.getCurrentKeys=function(){var e=[];return this.parent&&(e=e.concat(this.parent.getCurrentKeys())),e.concat([this.key])},e.prototype.getIndexInParent=function(){if(this.parent)for(var e=this.parent.children,t=0,r=e.length;t<r;t++){var n=e[t];if(n&&n===this)return t}return-1},e.prototype.contains=function(t){if(t.constructor===Number){if(this.children.length>t){var r=this.children[t];return r||(this.children[t]=new e("-",null,this),r=this.children[t]),r}return null}if(this.getKey()===t)return this;if(!this.children||0===this.children.length)return null;for(var n=0;n<this.children.length;n++){var o=this.children[n];if(o&&o.contains(t))return o}return null},e.prototype.containPath=function(e){var t=this;return e.forEach(function(e){return t?(t=t.contains(e),t?void 0:null):null}),t},e.prototype.removeFromParent=function(){var e=this.getIndexInParent();this.parent&&this.parent.children.splice(e,1)},e.prototype.insertToFromParent=function(e){var t=this.getIndexInParent(),r=e;!this.parent||!this.parent.children||t<0||(this.parent.children.length<=e&&this.parent.addChild([e]),this.removeFromParent(),this.parent.children=this.parent.children.concat([]).splice(0,r-0).concat([this]).concat(this.parent.children.splice(r-0)))},e.prototype.forEach=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this.value=e(this)),this.children)for(var t=0,r=this.children.length;t<r;t++)this.children[t]&&(this.children[t].value=e(this.children[t]),this.children[t].forEach(e))},e}()},function(e,t,r){"use strict";var n=r(36),o=r(12);r.d(t,"a",function(){return n.a}),n.a.propTypes=Object.assign({},o.a)},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(39),o=r.n(n),a={schemaId:o.a.string.isRequired,uiSchema:o.a.object,parentKeys:o.a.array.isRequired,globalOptions:o.a.object.isRequired,ajv:o.a.object.isRequired,arrayIndex:o.a.number,arrayLevel:o.a.array,formItemData:o.a.any,formItemMeta:o.a.any,ArrayItemComponent:o.a.any}},function(e,t,r){e.exports=r(14)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=(r.n(n),r(4)),a=r(33),i=r(3),c=r(40),s=r(10),u=r(44),p={tempFactory:new n.BaseFactory,fieldFactory:new n.BaseFactory,widgetFactory:new n.BaseFactory};c.a.forEach(function(e){for(var t in e)e.hasOwnProperty(t)&&p.fieldFactory.add(t,e[t])}),o.c.add("default",p),o.a.add("schemaFormDec",u.a.bind(u.a,o.a)),t.default={themeFactory:o.c,defaultTheme:p,schemaFormDec:u.a,TreeMap:s.a,reducerFactory:o.b,SchemaForm:a.a,hocFactory:o.a,schemaFormTypes:i.a}},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(16),o=r(17),a=r(21),i=r(22),c=r(23),s=r(24),u=r(25),p=r(26),f=r(27),l=[n.a,o.a,a.a,i.a,c.a,s.a,u.a,p.a,f.a]},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(2),c=r(0),s=r.n(c),u=r(6),p=(r.n(u),function(e){return function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){return function(t){function r(e){n(this,r);var a=o(this,t.call(this,e)),i=e.uiSchema?Object.assign({},e.uiSchema):void 0;i&&(i.keys=i.originKeys);var c=new u.MergeLib(e.ajv,e.schemaId,i,e.uiSchemas);return a._mergeUiSchemaList=c.mergeUiSchemaList.map(function(e){return a.mergeKeys(e)}),a}return a(r,t),r.prototype.mergeKeys=function(e){var t=this.props.arrayLevel,r=void 0===t?[]:t,n=r.concat([]);return e=Object.assign({},e),e.originKeys=[].concat(e.keys),e.keys=e.keys.reverse().map(function(e){return"-"===e?n.pop():e}),e.keys.reverse(),e},r.prototype.render=function(){var t=this.props,r=(t.uiSchemas,t.uiSchema,i.d(t,["uiSchemas","uiSchema"]));return s.a.createElement(e,Object.assign({mergeSchemaList:this._mergeUiSchemaList},r))},r}(c.PureComponent)}}});t.a={name:"merge",hoc:p}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(7),c=r.n(i),s=r(2),u=r(0),p=r.n(u),f=r(6),l=(r.n(f),r(5)),h=r.n(l),m=r(20),y=r.n(m),d=r(3),v=function(e){return function(){return function(e){return function(t){function r(){return n(this,r),o(this,t.apply(this,arguments))}return a(r,t),r.prototype.render=function(){return p.a.createElement(e,Object.assign({getTitle:this.getTitle,getPathKeys:this.getPathKeys,getOptions:this.getOptions,normalizeDataPath:this.normalizeDataPath,getRequiredKeys:this.getRequiredKeys,getDefaultData:this.getDefaultData},this.props))},r.prototype.getRequiredKeys=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n={};return t&&t.constructor===Array&&t.length?t.forEach(function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}):n=Object.assign({},e),r&&r.constructor===Array&&r.length&&r.forEach(function(e){n.hasOwnProperty(e)&&delete n[e]}),n},r.prototype.normalizeDataPath=function(e,t){var r=t.replace(/^\//g,"").split("/");return r=r.map(function(t,n){if(Number.isInteger(+t)){var o=r.slice(0,n);if(o.unshift(e),f.schemaKeysFactory.has(o.join("/"))){if("array"===f.schemaFieldFactory.get(f.schemaKeysFactory.get(o.join("/"))).type)return+t}}return t})},r.prototype.getOptions=function(e,t,r){var n=e.uiSchema,o=void 0===n?{}:n,a=e.globalOptions,i=o.options,c=o.type,s=void 0===c?"":c,u=[],p=function(e,t){e&&(h.a.Map.isMap(e)||(e=h.a.fromJS(e)),e.hasIn(t)&&u.push(e.getIn(t)))};p(a,[t,"default"]),p(a,[t,r]),p(a,[d.a.field,s.toString(),"options",t,r]),p(i,[t,r]);for(var f=arguments.length,l=Array(f>3?f-3:0),m=3;m<f;m++)l[m-3]=arguments[m];return u=u.concat(l),u.reverse().reduce(function(e,t){return t?(h.a.Map.isMap(t)||(t=h.a.fromJS(t)),t.merge(e)):e},h.a.fromJS({})).toJS()},r.prototype.getTitle=function(e){for(var t=e.uiSchema,r=t.title,n=t.keys,o=arguments.length,a=Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];if(!r&&a&&a.length&&a.forEach(function(e){e&&!r&&e.get("title")&&(r=e.get("title"))}),void 0!==r)return r;if(n&&n.length){var c=[].concat(n),s=c.pop();return void 0!==s?s.toString():""}return e.arrayIndex?e.arrayIndex.toString():""},r.prototype.getPathKeys=function(e,t){var r=[""].concat(e.concat([""])),n=y()(t,r.join("/")).split("/");return n.shift(),n.length&&!n[n.length-1]&&n.pop(),n},r.prototype.getDefaultData=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return s.a(this,void 0,void 0,c.a.mark(function o(){var a,i,s,u;return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a={},i={},s=t.type,u=function(e){return n?"object"===s?h.a.fromJS({}).merge(i.defaultData).merge(e).toJS():h.a.fromJS([]).merge(i.defaultData).merge(e).toJS():i.defaultData},o.prev=1,o.next=4,e.validate({type:"object",properties:{defaultData:t}},i);case 4:o.next=10;break;case 6:return o.prev=6,o.t0=o.catch(1),console.log(o.t0),o.abrupt("return",r);case 10:o.prev=10,o.t1=s,o.next="object"===o.t1?14:"array"===o.t1?17:20;break;case 14:return i.defaultData||(i.defaultData=r||{}),i.defaultData=u(r||{}),o.abrupt("break",21);case 17:return i.defaultData||(i.defaultData=r||[]),i.defaultData=u(r||[]),o.abrupt("break",21);case 20:i.defaultData=r||i.defaultData;case 21:return o.finish(10);case 22:return o.abrupt("return",i.defaultData);case 23:case"end":return o.stop()}},o,this,[[1,6,10,22]])}))},r}(u.PureComponent)}}};t.a={name:"utils",hoc:v}},function(e,t,r){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,a=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(19),o)n.regeneratorRuntime=a;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function r(e,t,r,n){var a=t&&t.prototype instanceof o?t:o,i=Object.create(a.prototype),c=new h(n||[]);return i._invoke=u(e,r,c),i}function n(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function o(){}function a(){}function i(){}function c(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){function t(r,o,a,i){var c=n(e[r],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==typeof u&&b.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,a,i)},function(e){t("throw",e,a,i)}):Promise.resolve(u).then(function(e){s.value=e,a(s)},i)}i(c.arg)}function r(e,r){function n(){return new Promise(function(n,o){t(e,r,n,o)})}return o=o?o.then(n,n):n()}var o;this._invoke=r}function u(e,t,r){var o=S;return function(a,i){if(o===P)throw new Error("Generator is already running");if(o===K){if("throw"===a)throw i;return y()}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=p(c,r);if(s){if(s===C)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===S)throw o=K,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=P;var u=n(e,t,r);if("normal"===u.type){if(o=r.done?K:E,u.arg===C)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=K,r.method="throw",r.arg=u.arg)}}}function p(e,t){var r=e.iterator[t.method];if(r===d){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=d,p(e,t),"throw"===t.method))return C;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var o=n(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,C;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=d),t.delegate=null,C):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,C)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function m(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(b.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=d,t.done=!0,t};return n.next=n}}return{next:y}}function y(){return{value:d,done:!0}}var d,v=Object.prototype,b=v.hasOwnProperty,g="function"==typeof Symbol?Symbol:{},w=g.iterator||"@@iterator",O=g.asyncIterator||"@@asyncIterator",j=g.toStringTag||"@@toStringTag",I="object"==typeof e,x=t.regeneratorRuntime;if(x)return void(I&&(e.exports=x));x=t.regeneratorRuntime=I?e.exports:{},x.wrap=r;var S="suspendedStart",E="suspendedYield",P="executing",K="completed",C={},_={};_[w]=function(){return this};var F=Object.getPrototypeOf,k=F&&F(F(m([])));k&&k!==v&&b.call(k,w)&&(_=k);var T=i.prototype=o.prototype=Object.create(_);a.prototype=T.constructor=i,i.constructor=a,i[j]=a.displayName="GeneratorFunction",x.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},x.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,j in e||(e[j]="GeneratorFunction")),e.prototype=Object.create(T),e},x.awrap=function(e){return{__await:e}},c(s.prototype),s.prototype[O]=function(){return this},x.AsyncIterator=s,x.async=function(e,t,n,o){var a=new s(r(e,t,n,o));return x.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},c(T),T[j]="Generator",T[w]=function(){return this},T.toString=function(){return"[object Generator]"},x.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},x.values=m,h.prototype={constructor:h,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=d)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return a.type="throw",a.arg=e,r.next=t,n&&(r.method="next",r.arg=d),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=b.call(o,"catchLoc"),c=b.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&b.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,C):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),C},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),C}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:m(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=d),C}}}(function(){return this}()||Function("return this")())},function(e,t){e.exports=a},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(0),c=r.n(i),s=r(4),u=function(e){return function(){return function(e){return function(t){function r(){return n(this,r),o(this,t.apply(this,arguments))}return a(r,t),r.prototype.render=function(){var t=this.props.uiSchema.theme,r=void 0;if(!s.c.has(t||"default"))throw new Error("没有找到"+(t||"default")+"的样式！");return r=s.c.get(t||"default"),c.a.createElement(e,Object.assign({currentTheme:r},this.props))},r}(i.PureComponent)}}};t.a={name:"theme",hoc:u}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(0),c=r.n(i),s=function(e){return function(){return function(e){return function(t){function r(){return n(this,r),o(this,t.apply(this,arguments))}return a(r,t),r.prototype.render=function(){var t=this.props,r=t.currentTheme,n=(t.getOptions,t.uiSchema),o=n.field,a=n.widget,i=n.type,s=void 0,u=void 0,p=o||i;if(r.fieldFactory.has(p))s=r.fieldFactory.get(p);else{if(!r.fieldFactory.has("default"))return console.error("找不到field："+(o||i)),null;s=r.fieldFactory.get("default")}return r.widgetFactory.has(a||i)?u=r.widgetFactory.get(a||i):r.widgetFactory.has("default")?u=r.widgetFactory.get("default"):console.warn("找不到widget："+(a||i),n),c.a.createElement(e,Object.assign({},this.props,{FieldComponent:s,WidgetComponent:u}))},r}(i.PureComponent)}}};t.a={name:"field",hoc:s}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(7),c=r.n(i),s=r(2),u=r(0),p=r.n(u),f=r(1),l=(r.n(f),r(4)),h=this,m=function(e){return function(){var e=Object(f.compose)(Object(f.withHandlers)({addItem:function(e){return function(e,t){return s.a(h,void 0,void 0,c.a.mark(function r(){var n;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.uiSchema&&e.uiSchema.items){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,e.getDefaultData(e.ajv,e.uiSchema.items,t);case 4:n=r.sent,l.b.get(e.reducerKey||"schemaForm").actions.addItem({parentKeys:e.parentKeys,keys:e.uiSchema.keys,data:n});case 6:case"end":return r.stop()}},r,this)}))}},removeItem:function(e){return function(t,r,n){l.b.get(e.reducerKey||"schemaForm").actions.removeItem({parentKeys:t,keys:r,index:n})}},moveItem:function(e){return function(t,r,n,o){l.b.get(e.reducerKey||"schemaForm").actions.moveToItem({parentKeys:t,keys:r,curIndex:n,toIndex:o})}},initArrayComponent:function(e){return function(e,t){var r=e.ArrayComponent,n=e.ArrayItemComponent,o=s.d(e,["ArrayComponent","ArrayItemComponent"]);return"array"===e.uiSchema.type?r?p.a.createElement(r,Object.assign({},o)):null:n?p.a.createElement(n,Object.assign({},o)):null}}})),t=function(t){var r=function(e){function r(t,a){n(this,r);var i=o(this,e.call(this,t,a));return i.initArrayComponents(),i}return a(r,e),r.prototype.initArrayComponents=function(){var e=this.props.getOptions,t=e(this.props,"hoc","array");t.ArrayComponent&&(this.ArrayComponent=t.ArrayComponent),t.ArrayItemComponent&&(this.ArrayItemComponent=t.ArrayItemComponent)},r.prototype.render=function(){var e={};return this.ArrayComponent&&(e.ArrayComponent=this.ArrayComponent),this.ArrayItemComponent&&(e.ArrayItemComponent=this.ArrayItemComponent),p.a.createElement(t,Object.assign({},this.props,e))},r}(u.PureComponent);return r=s.b([e,s.c("design:paramtypes",[Object,Object])],r)},r=function(t){var r=function(e){function r(){return n(this,r),o(this,e.apply(this,arguments))}return a(r,e),r.prototype.render=function(){return p.a.createElement(t,Object.assign({},this.props))},r}(p.a.PureComponent);return r=s.b([e],r)};return Object(f.branch)(function(e){var t=e.uiSchema;return"array"===(void 0===t?{type:""}:t).type},t,r)}};t.a={name:"array",hoc:m}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(7),c=r.n(i),s=r(2),u=r(0),p=r.n(u),f=r(1),l=(r.n(f),r(6)),h=(r.n(l),r(4)),m=this,y=function(e){return function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){var t=function(t){function r(){return n(this,r),o(this,t.apply(this,arguments))}return a(r,t),r.prototype.render=function(){return p.a.createElement(e,Object.assign({},this.props))},r}(u.PureComponent);return t=s.b([Object(f.compose)(Object(f.withHandlers)({validate:function(e){return function(e,t){return s.a(m,void 0,void 0,c.a.mark(function r(){var n,o,a,i,s,u;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n={dirty:!0,isValid:!1,isLoading:!1},o=Object.assign({},e.uiSchema),a=setTimeout(function(){h.b.get(e.reducerKey||"schemaForm").actions.updateItemMeta({parentKeys:e.parentKeys,keys:o.keys,meta:{isLoading:!0,isValid:!1,errorText:!1}})},200),r.prev=3,i=void 0,o.schemaPath&&e.ajv.getSchema(o.schemaPath)?i=e.ajv.getSchema(o.schemaPath):o.$id?i=e.ajv.getSchema(o.$id):(s=Object.assign({},l.schemaFieldFactory.get(o.schemaPath)),delete s.$id,delete s.$ref,i=e.ajv.compile(s)),r.next=8,i(t);case 8:if(n.isValid=r.sent,n.isValid){r.next=13;break}throw u=new Error,u.errors=i.errors,u;case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(3),n.errorText=r.t0.errors?e.ajv.errorsText(r.t0.errors,{dataVar:e.getTitle(e).toString()}):r.t0.message;case 18:return r.prev=18,clearTimeout(a),r.finish(18);case 21:return r.abrupt("return",n);case 22:case"end":return r.stop()}},r,this,[[3,15,18,21]])}))}}}),Object(f.withHandlers)({updateItemData:function(e){return function(e,t,r){h.b.get(e.reducerKey||"schemaForm").actions.updateItemData({parentKeys:e.parentKeys,keys:e.uiSchema.keys,data:t,meta:r})}},updateItemMeta:function(e){return function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return s.a(m,void 0,void 0,c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.t0=h.b.get(t.reducerKey||"schemaForm").actions,a.t1=t.parentKeys,a.t2=t.uiSchema.keys,a.t3=n,a.t3){a.next=8;break}return a.next=7,e.validate(t,r);case 7:a.t3=a.sent;case 8:a.t4=a.t3,a.t5=o,a.t6={parentKeys:a.t1,keys:a.t2,meta:a.t4,noChange:a.t5},a.t0.updateItemMeta.call(a.t0,a.t6);case 12:case"end":return a.stop()}},a,this)}))}},removeItemData:function(e){return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];h.b.get(e.reducerKey||"schemaForm").actions.removeItemData({parentKeys:e.parentKeys,keys:e.uiSchema.keys,meta:t})}}}))],t)}}};t.a={name:"validate",hoc:y}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(0),c=r.n(i),s=r(1),u=(r.n(s),r(5)),p=r.n(u),f=r(3),l=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(r){return function(i){function u(){return n(this,u),o(this,i.apply(this,arguments))}return a(u,i),u.prototype.render=function(){var n=this.props,o=n.uiSchema,a=n.getOptions,i=o.type,u=o.field,l=a(this.props,f.a.field,u||i,p.a.fromJS(o.hocs?{hocs:o.hocs}:{}),p.a.fromJS(t||{})),h=l.hocs||["utils","theme","field","validate","array","temp"],m=s.compose.apply(void 0,[].concat(h).map(function(t){return"string"!=typeof t?t:e.get(t)()}))(r);return c.a.createElement(m,Object.assign({},this.props))},u}(i.PureComponent)}}};t.a={name:"make",hoc:l}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(0),c=r.n(i),s=r(1),u=(r.n(s),r(3)),p=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tempField:"temps",templates:[]};return function(r){return function(i){function p(){return n(this,p),o(this,i.apply(this,arguments))}return a(p,i),p.prototype.render=function(){var t=this,n=this.props,o=n.uiSchema,a=n.getOptions,i=n.reducerKey;o.options,o.keys;return this.getTemplates().reduce(function(r,n){var o=n.key,p=n.Temp,f=a(t.props,u.a.template,o),l=s.compose.apply(void 0,[e.get("utils")()].concat(f.tempHocs||[]))(p);return c.a.createElement(l,{tempKey:o,ajv:t.props.ajv,uiSchema:t.props.uiSchema,schemaId:t.props.schemaId,arrayLevel:t.props.arrayLevel,reducerKey:i,arrayIndex:t.props.arrayIndex,globalOptions:t.props.globalOptions,ArrayComponent:t.props.ArrayComponent,ArrayItemComponent:t.props.ArrayItemComponent,initArrayComponent:t.props.initArrayComponent,parentKeys:t.props.parentKeys,children:r})},c.a.createElement(r,Object.assign({},this.props)))},p.prototype.getTemplates=function(){var e=this.props,r=e.uiSchema,n=e.currentTheme,o=e.getOptions,a=(r.keys,r.type),i=r.temps,c=o(this.props,u.a.field,a),s=[],p=void 0;p=i||(t.templates&&t.templates.length>0?t.templates:c[t.tempField]||"default");return function e(t){switch(t.constructor){case String:n.tempFactory.has(t)?s.push({key:t,Temp:n.tempFactory.get(t)}):console.error("不存在"+t+"的temp！");break;case Object:s.push({key:t.name,Temp:t});break;case Array:[].concat(p).reverse().forEach(function(t,r){e(t)})}}(p),s},p}(i.PureComponent)}}};t.a={name:"temp",hoc:p}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(2),c=r(0),s=r.n(c),u=r(1),p=(r.n(u),r(9)),f=(r.n(p),r(28)),l=(r.n(f),r(5)),h=(r.n(l),r(3)),m=Object(f.createSelectorCreator)(f.defaultMemoize,l.is),y=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:!0},t=function(t,r,n){return m([function(o){var a=[].concat(r,t,["data"],n);if(e.data&&o.hasIn(a)){var i=o.getIn(a);if(void 0!==i)return e.dataLength?i.size:i}},function(o){var a=[].concat(r,t,["meta"]);if(e.meta&&o.hasIn(a)){var i=o.getIn(a),c=i.containPath([].concat(n));if(c&&c.value)return e.metaKeys?c.value.filter(function(t,r){return e.metaKeys.indexOf(r)>=0}):c.value}},function(o){if(!e.treeNode)return null;var a=[].concat(r,t,["meta"]),i=o.getIn(a),c=i.containPath([].concat(n));return c||i.addChild([].concat(n))}],function(e,t,r){var n={};return void 0!==e&&null!==e&&(n.formItemData=e),void 0!==t&&null!==e&&(n.formItemMeta=t),void 0!==r&&null!==e&&(n.formItemNode=r),n})};return function(e){var r=function(r){function i(){return n(this,i),o(this,r.apply(this,arguments))}return a(i,r),i.prototype.render=function(){var r=this.props,n=(r.uiSchema,r.getOptions),o=this.props.uiSchema||{},a=o.keys,i=void 0===a?[]:a,c=n(this.props,h.a.hoc,"data");c.rootReducerKey&&c.rootReducerKey.constructor===Array||console.error("dataHoc missing property rootReducerKey.should be a Array.");var u=Object(p.connect)(t(this.props.parentKeys,c.rootReducerKey,i)),f=u(e);return s.a.createElement(f,Object.assign({},this.props))},i}(c.PureComponent);return r=i.b([Object(u.shouldUpdate)(function(){return!1})],r)}}};t.a={name:"data",hoc:y}},function(e,t){e.exports=i},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(5),o=(r.n(n),r(30)),a=new o.a(Object(n.fromJS)({}))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",function(){return u});var o=r(31),a=(r.n(o),r(5)),i=(r.n(a),r(32)),c=r(10),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=(i.a,function(){function e(t){n(this,e),this.initialState=t,this.createForm=Object(o.createAction)("创建一个表单数据"),this.updateItemData=Object(o.createAction)("更新一个表单数据"),this.updateItemMeta=Object(o.createAction)("更新一个表单元数据"),this.addItem=Object(o.createAction)("添加一个数据"),this.removeItem=Object(o.createAction)("删除一个数据"),this.moveToItem=Object(o.createAction)("元素移位"),this.removeItemData=Object(o.createAction)("删除一个字段的数据以及meta数据")}return e.prototype.init=function(e){for(var t in this.actions)if(this.actions.hasOwnProperty(t)){var r=this.actions[t];r.assigned()||r.assignTo(e)}},e.prototype.removeItemDataMetaHandle=function(e,t){var r=t.parentKeys,n=t.keys,o=t.meta,a=r.concat(["data"].concat(n)),i=r.concat(["meta"]),c=e.getIn(i),s=c.containPath(n);return e=this.resolveKeys(e,a),e.hasIn(a)&&(e=e.removeIn(a)),s&&o&&s.removeFromParent(),e},e.prototype.resolveKeys=function(e,t){if(e.hasIn(t))return e;for(var r=0,n=t.length;r<n;r++){var o=[].concat(t).splice(0,r+1);if(e.hasIn(o)){if(r<n){var i=e.getIn(o);a.Map.isMap(i)||a.List.isList(i)||(e=t[r+1].constructor===Number?e.setIn(o,Object(a.List)()):e.setIn(o,Object(a.Map)()))}}else o.pop(),e.hasIn(o)||(e=t[r].constructor===Number?e.setIn(o,Object(a.List)()):e.setIn(o,Object(a.Map)()))}return e},e.prototype.createFormHandle=function(e,t){var r=t.key,n=t.data;e.has(r)&&(e=e.remove(r));var o=new c.a(r,Object(a.fromJS)({})),i=Object(a.Map)({meta:o,data:Object(a.fromJS)(n)});return e.set(r,i)},e.prototype.updateItemDataHandle=function(e,t){var r=t.parentKeys,n=t.keys,o=t.data,i=t.meta,c=r.concat(["data"].concat(n));return e=this.resolveKeys(e,c),e=e.setIn(c,Object(a.fromJS)(o)),i&&(e=this.updateItemMetaHandle(e,{parentKeys:r,keys:n,meta:i})),e},e.prototype.addItemDataHandle=function(e,t){var r=t.parentKeys,n=t.keys,o=t.data,i=r.concat(["data"].concat(n)),c=r.concat(["meta"]),s=e.getIn(c),u=s.containPath(n),p=void 0;return e=this.resolveKeys(e,i),p=e.getIn(i)||Object(a.List)(),p=p.push(Object(a.fromJS)(o)),u&&u.value&&(u.value=u.value.merge({collapsing:!1})),e.setIn(i,p)},e.prototype.removeItemHandle=function(e,t){var r=t.parentKeys,n=t.keys,o=t.index,i=r.concat(["data"].concat(n)),c=r.concat(["meta"]),s=e.getIn(c),u=s.addChild(n.concat([o])),p=void 0;return e=this.resolveKeys(e,i),(p=e.getIn(i))&&a.List.isList(p)?(u&&u.removeFromParent(),e.setIn(i,p.remove(o))):e},e.prototype.moveItemHandle=function(e,t){var r=t.parentKeys,n=t.keys,o=t.curIndex,a=t.toIndex,i=r.concat(["data"].concat(n)),c=r.concat(["meta"]),s=e.getIn(c),u=(e.getIn(i),e.getIn(i)),p=s.containPath(n.concat([o])),f=s.containPath(n.concat([a]));if(e=this.resolveKeys(e,i),!u||a<0)return e;var l=u.get(o);return u=u.remove(o),u=u.insert(a-0,l),p?p.insertToFromParent(a):f&&f.insertToFromParent(o),e.setIn(i,u)},e.prototype.updateItemMetaHandle=function(e,t){var r=t.parentKeys,n=t.keys,o=t.meta,i=t.noChange,s=r.concat(["meta"]),u=e.getIn(s),p=u.containPath(n),f=p?p.value:null;if(p||(p=u.addChild(n)),p&&(p.value=f?p.value.merge(o):Object(a.fromJS)(o)),i)return e;var l=new c.a(u.getKey(),u.value);return l.children=u.children,e.setIn(s,l)},s(e,[{key:"actions",get:function(){return{createForm:this.createForm,updateItemData:this.updateItemData,updateItemMeta:this.updateItemMeta,addItem:this.addItem,removeItem:this.removeItem,moveToItem:this.moveToItem,removeItemData:this.removeItemData}}},{key:"reducer",get:function(){var e;return Object(o.createReducer)((e={},e[this.createForm]=this.createFormHandle.bind(this),e[this.updateItemData]=this.updateItemDataHandle.bind(this),e[this.updateItemMeta]=this.updateItemMetaHandle.bind(this),e[this.addItem]=this.addItemDataHandle.bind(this),e[this.removeItem]=this.removeItemHandle.bind(this),e[this.moveToItem]=this.moveItemHandle.bind(this),e[this.removeItemData]=this.removeItemDataMetaHandle.bind(this),e),this.initialState)}}]),e}())},function(e,t){e.exports=c},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=1},function(e,t,r){"use strict";var n=r(8);r.d(t,"a",function(){return n.a});r(11)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"a",function(){return f});var i=r(2),c=r(0),s=r.n(c),u=r(35),p=r(11),f=function(e){function t(){return n(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.schemaId,r=e.mergeSchemaList,n=e.arrayLevel,o=e.RootComponent,a=e.children,c=i.d(e,["schemaId","mergeSchemaList","arrayLevel","RootComponent","children"]),u=r?r.map(function(e,r){var o=n?n.concat([]):[];return s.a.createElement(p.a,Object.assign({key:r},c,{schemaId:t,uiSchema:e,arrayLevel:o}))}):[];return o?s.a.createElement(o,null,u,a):s.a.createElement("div",null,u,a)},t}(c.PureComponent);f=i.b([u.a],f)},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(1),o=(r.n(n),r(4)),a=Object(n.compose)(Object(n.shouldUpdate)(function(){return!1}),o.a.get("utils")(),o.a.get("merge")())},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"a",function(){return f});var i=r(2),c=r(0),s=r.n(c),u=r(37),p=(r.n(u),r(38)),f=function(e){function t(){return n(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.FieldComponent,r=e.uiSchema,n=i.d(e,["FieldComponent","uiSchema"]),o=n.getOptions(this.props,"field",r.field||r.type),a=t;return t?(o.fieldHocs&&o.fieldHocs.length&&(a=u.compose.apply(void 0,o.fieldHocs||[])(t)),s.a.createElement(a,Object.assign({key:r.keys.join("formItem"),uiSchema:r},n))):(console.log(r,"没有找到匹配的field"),null)},t}(c.PureComponent);f=i.b([p.a],f)},function(e,t){e.exports=s},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(1),o=(r.n(n),r(4)),a=Object(n.compose)(o.a.get("utils")(),o.a.get("make")())},function(e,t){e.exports=u},function(e,t,r){"use strict";var n=r(41),o=r(42),a=r(43);t.a=[n.a,o.a,a.a]},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,c=r(2),s=r(0),u=r.n(s),p=r(1),f=(r.n(p),r(3)),l=function(e){function t(r,a){return n(this,t),o(this,e.call(this,r,a))}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.WidgetComponent,r=(e.FieldComponent,e.formItemMeta,e.formItemData,c.d(e,["WidgetComponent","FieldComponent","formItemMeta","formItemData"])),n=r.getOptions(this.props,f.a.field,"normal"),o=r.uiSchema.keys,a=t;return t&&o?(n.widgetHocs&&n.widgetHocs.length&&(a=p.compose.apply(void 0,n.widgetHocs)(t)),u.a.createElement(a,Object.assign({key:o.join(".")},r))):null},t}(s.PureComponent);t.a=(i={},i.normal=l,i.default=l,i)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,c=r(0),s=r.n(c),u=r(8),p=r(3),f=r(1),l=(r.n(f),function(e){function t(){return n(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.arrayIndex,r=e.arrayLevel,n=e.parentKeys,o=e.globalOptions,a=e.ajv,i=(e.schemaId,e.getOptions),c=e.reducerKey,l=e.uiSchema,h=i(this.props,p.a.field,"object"),m=u.a;return null!==l.children&&l.schemaPath?(h.formHocs&&h.formHocs.constructor===Array&&(m=f.compose.apply(void 0,h.formHocs)(u.a)),s.a.createElement(m,{arrayIndex:t,arrayLevel:r,RootComponent:h.Root,reducerKey:c,schemaId:l.schemaPath,uiSchemas:l.children||["*"],uiSchema:l,parentKeys:n,globalOptions:o,ajv:a})):null},t}(c.PureComponent));t.a=(i={},i.object=l,i)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,c=r(0),s=r.n(c),u=r(1),p=(r.n(u),r(3)),f=r(8),l={width:"100%",height:"100%"},h=function(e){function t(){return n(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){return s.a.createElement("div",{style:l},this.props.children)},t}(s.a.PureComponent),m=function(e){function t(r){n(this,t);var a=o(this,e.call(this,r));return a.SchemaFormWithHoc=h,a.initComponent(),a}return a(t,e),t.prototype.initComponent=function(){var e=this.props,t=(e.uiSchema,e.formItemData,e.getOptions),r=t(this.props,p.a.field,"array"),n=null,o=null;r.formHocs&&r.formHocs.constructor===Array&&(n=u.compose.apply(void 0,r.formHocs)(r.ArrayFieldComponent||h)),r.formItemHocs&&r.formItemHocs.constructor===Array&&(o=u.compose.apply(void 0,r.formItemHocs)(f.a)),this.SchemaFormWithHoc=n,this.SchemaFormItemWithHoc=o},t.prototype.renderItem=function(e){var t=this.props,r=t.parentKeys,n=t.globalOptions,o=t.getOptions,a=t.arrayLevel,i=void 0===a?[]:a,c=(t.getRequiredKeys,t.ajv),u=t.reducerKey,l=t.ArrayItemComponent,h=this.props.uiSchema,m=o(this.props,p.a.field,"array"),y=this.SchemaFormItemWithHoc||f.a;return null!==h.children&&h.schemaPath?s.a.createElement(y,{key:e,index:e,arrayIndex:e,uiSchema:h,RootComponent:m.Root,ArrayItemComponent:l,arrayLevel:i.concat([e]),reducerKey:u,schemaId:h.schemaPath,uiSchemas:h.children||["-"],parentKeys:r,globalOptions:n,ajv:c}):null},t.prototype.render=function(){for(var e=this.props,t=(e.uiSchema,e.formItemData),r=e.getOptions,n=e.getRequiredKeys,o=[],a=r(this.props,p.a.field,"array"),i=this.SchemaFormWithHoc,c=n(this.props,a.fieldIncludeKeys,a.fieldExcludeKeys),u=0;u<+t;u++)o.push(this.renderItem(u));return s.a.createElement(i,Object.assign({children:o},c))},t}(c.PureComponent);t.a=(i={},i.array=m,i)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(7),c=r.n(i),s=r(2),u=r(0),p=r.n(u),f=r(1),l=(r.n(f),r(9)),h=(r.n(l),r(5)),m=r.n(h),y=r(45),d=(r.n(y),r(3)),v=r(4),b=this;t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{rootReducerKey:[],parentKeys:[]};return function(t){var r=function(r){function i(e){n(this,i);var t=o(this,r.call(this,e));return t._validateAll=e.validateAll.bind(t),e.resetForm(),t}return a(i,r),i.prototype.render=function(){var r=this.props,n=(r.errors,r.isValid,r.isValidating,r.getRequiredKeys),o=r.getOptions,a=r.schemaId,i=o(this.props,d.a.hoc,"schemaFormDec"),c=n(this.props,i.hocIncludeKeys,i.hocExcludeKeys);return p.a.createElement(t,Object.assign({validateAll:this._validateAll,parentKeys:e.parentKeys,schemaId:a},c))},i}(u.PureComponent);return r=s.b([Object(f.compose)(v.a.get("utils")(),Object(l.connect)(function(t){var r=e.rootReducerKey.concat(e.parentKeys),n=r.concat(["data"]),o=r.concat(["meta"]),a=t.getIn(o);return{data:t.getIn(n),root:a,isValid:!a||a.value.get("isValid"),errors:a?a.value.get("errors"):null,isValidating:!!a&&a.value.get("isLoading")}}),Object(f.withHandlers)({validateAll:function(t){var r=v.b.get(t.reducerKey).actions.updateItemMeta,n=void 0;return function(o){return s.a(b,void 0,void 0,c.a.mark(function o(){var a,i,s,u,p,f;return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(a=t.root,i=t.ajv.getSchema(t.schemaId),s=m.a.fromJS({dirty:!0,isValid:!0,isLoading:!0}),u=m.a.fromJS({isLoading:!1,dirty:!0}),p=t.normalizeDataPath,a){o.next=3;break}return o.abrupt("return");case 3:if(i){o.next=5;break}throw new Error("没有找到对应的"+t.schemaId+";");case 5:return o.prev=5,a.forEach(function(e){return e.value?e.value.merge(s):s},!0),n=setTimeout(function(){r({parentKeys:e.parentKeys,keys:[],meta:a.value})},200),t.ajv.errors=null,o.next=11,i(t.data.toJS());case 11:if(f=o.sent){o.next=14;break}throw new y.ValidationError(i.errors.concat(t.ajv.errors||[]));case 14:a.value=a.value.merge({isValid:!0}),r({parentKeys:e.parentKeys,keys:[],meta:a.value}),o.next=26;break;case 18:if(o.prev=18,o.t0=o.catch(5),o.t0 instanceof y.ValidationError){o.next=22;break}return o.abrupt("return",console.error(o.t0));case 22:if(a){o.next=24;break}return o.abrupt("return");case 24:o.t0.errors.forEach(function(e){var r=a.getCurrentKeys().concat(p(t.schemaId,e.dataPath)),n=a.containPath(r);n||(n=a.addChild(r,m.a.fromJS({}))),n&&(n.value=n.value.merge(u).merge({isValid:!1,errorText:r.pop()+" "+e.message}))}),a.value=a.value.merge({isValid:!1,errors:o.t0.errors});case 26:return o.prev=26,clearTimeout(n),a.forEach(function(e){return e.value?e.value.merge(u):e.value},!0),r({parentKeys:e.parentKeys,keys:[],meta:a.value}),o.finish(26);case 31:case"end":return o.stop()}},o,this,[[5,18,26,31]])}))}},resetForm:function(e){return function(){if(e.formKey){(0,v.b.get(e.reducerKey).actions.createForm)({key:e.formKey,data:e.initData||{}})}}}})),s.c("design:paramtypes",[Object])],r)}}},function(e,t){e.exports=p}]).default});
//# sourceMappingURL=index.js.map